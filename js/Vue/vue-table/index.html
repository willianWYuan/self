<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{margin:0;padding:0;}
		.table-data-list{margin:50px auto;/*width:1200px;*/}
		.table-data-list .page-table{position:relative;overflow:hidden;user-select:none;border:1px solid #ddd;}
		.table-data-list .page-table-head,.page-table-body{overflow:hidden;}
		.table-data-list .page-table-head{margin-right:12px;}
		.table-data-list .page-table-body{/*height:300px;*/box-sizing:border-box;}
		.table-data-list .page-table-body-margin{margin:0 12px 12px 0;}
		.table-data-list table{border-collapse:collapse;font-size:14px;width:100%}
		.table-data-list th, .table-data-list td{border-right:1px solid #ddd;border-bottom:1px solid #ddd;padding:0;text-align: center;}
		.table-data-list th{background:#f6f6f6;/*color:#fff;*/font-weight:normal;border-color:#ddd}
		.table-data-list th:last-child, .table-data-list td:last-child{border-right: none;}
		/*.table-data-list tr:last-child td{border-bottom: none;}*/
		.table-data-list .td-cell{padding:10px;text-align:center;width:120px;box-sizing:border-box;    display: inline-block;}
		.table-data-list .td-cell a{display: inline-block; width: 40px; text-align: center; line-height: 30px; transition: opacity .2s ;background-color: #c30; margin: 0 4px; color: white; font-size: 12px; cursor: pointer;}
		.table-data-list .td-cell a:hover{opacity: .8;}
		.table-data-list .td-cell .table-edit{}
		.table-data-list .td-cell .table-del{}
		.table-data-list .page{height:46px;user-select:none}
		.table-data-list .page a{background:#f6f6f6;cursor:pointer;margin-left:8px;font-size:14px;height:30px;min-width:30px;padding:0 6px;margin-top:8px;box-sizing:border-box;border:1px solid #ccc;line-height:30px;text-align:center;float:left;}
		.table-data-list .page .on{background:#c30;color:#fff;border-color:#c30;}
		.table-data-list .jump{float: right;height:30px;margin-top:8px;margin-right:8px; line-height: 30px; font-size: 14px;}
		.table-data-list .jump:before{content: "跳到"; float: left;}
		.table-data-list .jump input{height:30px;border:1px solid #ddd;width:50px;box-sizing:border-box;outline:none;padding:0 6px;float:left;text-align:center;-webkit-appearance: none; margin-left: 6px}
		.table-data-list .jump a{margin-top:0;}
		.table-data-list .page-scrollbar{position:absolute;z-index:10;background:#eee;}
		.table-data-list .page-scrollbar .pointer{position:absolute;background:#ccc;transition:background .2s;top:0;left:0;cursor:pointer;}
		.table-data-list .page-scrollbar .pointer:hover{background:#999}
		.table-data-list .page-scrollbar-bottom{bottom:0;left:0;width:100%;height:12px;}
		.table-data-list .page-scrollbar-right{right:0;top:40px;width:12px;height:100%;}
		.table-data-list .page-scrollbar-right:before{content:"";position:absolute;top:-200px;left:0;width:12px;height:200px;background-color:#f6f6f6; border-bottom: 1px solid #ddd; box-sizing: border-box;}
		.table-data-list .page-scrollbar-bottom .pointer{height:12px;}
		.table-data-list .page-table-page{border:1px solid #ddd;border-top:none;}
		.table-data-list .page-scrollbar-right .pointer{width:12px;}
	</style>
</head>
<body>
	<div id="app">
		<div class="table-data-list">
			<div class="page-table">
				<div class="page-table-head">
					<table>
						<thead>
							<tr>
								<th><div class="td-cell td-cell-1">ID</div></th>
								<th><div class="td-cell td-cell-2">用户名</div></th>
								<th><div class="td-cell td-cell-3">性别</div></th>
								<th><div class="td-cell td-cell-4">城市</div></th>
								<th><div class="td-cell td-cell-5">签名</div></th>
								<th><div class="td-cell td-cell-6">积分</div></th>
								<th><div class="td-cell td-cell-7">评分</div></th>
								<th><div class="td-cell td-cell-8">职业</div></th>
								<th><div class="td-cell td-cell-9">财富</div></th>
								<th><div class="td-cell td-cell-10">操作</div></th>
							</tr>
						</thead>
					</table>
				</div>
				<div class="page-table-body">
					<table>
						<tr v-for='(item, index) in list' v-if="index<limit*curr && index>=limit*(curr-1)">
							<td><div class="td-cell td-cell-1">{{ item.id }}</div></td>
							<td><div class="td-cell td-cell-2">{{ item.username }}</div></td>
							<td><div class="td-cell td-cell-3">{{ item.sex }}</div></td>
							<td><div class="td-cell td-cell-4">{{ item.city }}</div></td>
							<td><div class="td-cell td-cell-5">{{ item.sign }}</div></td>
							<td><div class="td-cell td-cell-6">{{ item.experience }}</div></td>
							<td><div class="td-cell td-cell-7">{{ item.score }}</div></td>
							<td><div class="td-cell td-cell-8">{{ item.classify }}</div></td>
							<td><div class="td-cell td-cell-9">{{ item.wealth }}</div></td>
							<td><div class="td-cell td-cell-10"><a class="table-edit">修改</a><a class="table-del" @click='del(index)'>删除</a></div></td>
						</tr>
					</table>
				</div>


				<div class="page-scrollbar page-scrollbar-right"><span class="pointer"></span></div>	
				<div class="page-scrollbar page-scrollbar-bottom"><span class="pointer"></span></div>	
				
			</div>
			<div class="page-table-page">
				<div class="page">
					<a v-if='curr!=1' @click='jump(1)'>首页</a>
					<a v-if='curr!=1' @click='jump(curr-1)'>上一页</a>
					<a v-for='i in count' 
						:class='{on: curr==i}' 
						v-if='(i >= curr - limits && i <= curr + limits) || (curr <= limits && i <= pagelistnum) || (curr > count - limits && i > count - pagelistnum)'
						@click='jump(i)'>{{ i }}</a>

					<a v-if='curr!=count && count!=0' @click='jump(curr+1)'>下一页</a>
					<a v-if='curr!=count && count!=0' @click='jump(count)'>尾页</a>
					<div class="jump">
						<input type="text" v-model='jumpNum'><a @click='jump(jumpNum)'>确定</a>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src='vue.js'></script>
	<script>
		new Vue({
			el: '#app',
			data: {
				list: [
		            {"id": 10000, "username": "user-0", "sex": "女", "city": "城市-0", "sign": "签名-0", "experience": 255, "logins": 24, "wealth": 82830700, "classify": "作家", "score": 57, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10001, "username": "user-1", "sex": "男", "city": "城市-1", "sign": "签名-1", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 0 },
		            {"id": 10002, "username": "user-2", "sex": "男", "city": "城市-2", "sign": "签名-2", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10003, "username": "user-3", "sex": "女", "city": "城市-0", "sign": "签名-0", "experience": 255, "logins": 24, "wealth": 82830700, "classify": "作家", "score": 57, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10004, "username": "user-4", "sex": "男", "city": "城市-1", "sign": "签名-1", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 0 },
		            {"id": 10005, "username": "user-5", "sex": "男", "city": "城市-2", "sign": "签名-2", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 1, "LAY_CHECKED": true },
		            {"id": 10006, "username": "user-6", "sex": "女", "city": "城市-0", "sign": "签名-0", "experience": 255, "logins": 24, "wealth": 82830700, "classify": "作家", "score": 57, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10007, "username": "user-7", "sex": "男", "city": "城市-1", "sign": "签名-1", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 0 },
		            {"id": 10008, "username": "user-8", "sex": "男", "city": "城市-2", "sign": "签名-2", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10009, "username": "user-9", "sex": "女", "city": "城市-0", "sign": "签名-0", "experience": 255, "logins": 24, "wealth": 82830700, "classify": "作家", "score": 57, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10010, "username": "user-10", "sex": "男", "city": "城市-1", "sign": "签名-1", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 0 },
		            {"id": 10011, "username": "user-11", "sex": "男", "city": "城市-2", "sign": "签名-2", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 1, "LAY_CHECKED": true },
		            {"id": 10000, "username": "user-0", "sex": "女", "city": "城市-0", "sign": "签名-0", "experience": 255, "logins": 24, "wealth": 82830700, "classify": "作家", "score": 57, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10000, "username": "user-0", "sex": "女", "city": "城市-0", "sign": "签名-0", "experience": 255, "logins": 24, "wealth": 82830700, "classify": "作家", "score": 57, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10001, "username": "user-1", "sex": "男", "city": "城市-1", "sign": "签名-1", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 0 },
		            {"id": 10002, "username": "user-2", "sex": "男", "city": "城市-2", "sign": "签名-2", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10003, "username": "user-3", "sex": "女", "city": "城市-0", "sign": "签名-0", "experience": 255, "logins": 24, "wealth": 82830700, "classify": "作家", "score": 57, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10004, "username": "user-4", "sex": "男", "city": "城市-1", "sign": "签名-1", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 0 },
		            {"id": 10005, "username": "user-5", "sex": "男", "city": "城市-2", "sign": "签名-2", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 1, "LAY_CHECKED": true },
		            {"id": 10006, "username": "user-6", "sex": "女", "city": "城市-0", "sign": "签名-0", "experience": 255, "logins": 24, "wealth": 82830700, "classify": "作家", "score": 57, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10007, "username": "user-7", "sex": "男", "city": "城市-1", "sign": "签名-1", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 0 },
		            {"id": 10008, "username": "user-8", "sex": "男", "city": "城市-2", "sign": "签名-2", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10009, "username": "user-9", "sex": "女", "city": "城市-0", "sign": "签名-0", "experience": 255, "logins": 24, "wealth": 82830700, "classify": "作家", "score": 57, "isShow": 1, "LAY_CHECKED": true }, 
		            {"id": 10010, "username": "user-10", "sex": "男", "city": "城市-1", "sign": "签名-1", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 0 },
		            {"id": 10011, "username": "user-11", "sex": "男", "city": "城市-2", "sign": "签名-2", "experience": 884, "logins": 58, "wealth": 64928690, "classify": "词人", "score": 27, "isShow": 1, "LAY_CHECKED": true },
		        ],
		        pagelistnum: 5,   //限制页码按钮数量     只能是单数
		        limit: 8,		  //每页  显示n条
		        curr: 1,		  //当前页
		        jumpNum: 1		  //跳转到n页
			},
			computed: {
				count(){	      //页码总数
					return Math.ceil(this.list.length / this.limit)
				},
				limits() {
					return Math.floor(this.pagelistnum / 2)
				}
			},
			methods: {
				jump(i) {
					if (i <= 1) i = 1;
					if (i >= this.count) i = this.count;
					this.curr = parseInt(i);
				},
				del(i){
					console.log(i)
					this.list.splice(i, 1);
				}
			},
			mounted(){
				(function(obj){
					let el = {
						tableouter: document.querySelector(obj.el_table),
						tabhead: document.querySelector(obj.el_thead),
						tab: document.querySelector(obj.el_tbody),
						tabbody: document.querySelector(obj.el_tbody).getElementsByTagName('table')[0],
						barbottom: document.querySelector(obj.el_bar_bottom),
						scrollbarbottom: document.querySelector(obj.el_bar_bottom).querySelector(obj.el_bar),
						barright: document.querySelector(obj.el_bar_right),
						scrollbarright: document.querySelector(obj.el_bar_right).querySelector(obj.el_bar),
					};
					el.tableouter.style.width = obj.tablewidth == void 0 || obj.tablewidth == 'auto' ? '100%' : obj.tablewidth + 'px';
					el.tab.style.height = obj.tbodyheight == void 0 || obj.tbodyheight == 'auto' ? 'auto' : obj.tbodyheight + 'px';
					let ratio = {
						tabw: el.tab.offsetWidth,
						tabh: el.tab.offsetHeight,
						tabbodyw: el.tabbody.offsetWidth,
						tabbodyh: el.tabbody.offsetHeight,
						ratiox: el.tabbody.offsetWidth  / el.tab.offsetWidth,
						ratioy: el.tabbody.offsetHeight / el.tab.offsetHeight
					};

					// 计算滚动条大小
					(function(){
						el.barright.style.display  = ratio.tabh / ratio.tabbodyh >= 1 ? 'none' : 'block';
						el.barbottom.style.display = ratio.tabw / ratio.tabbodyw >= 1 ? 'none' : 'block';

						el.tab.style.marginBottom  = ratio.tabw / ratio.tabbodyw >= 1 ? 0 : '12px';
						el.tab.style.marginRight = el.tabhead.style.marginRight = ratio.tabh / ratio.tabbodyh >= 1 ? 0 : '12px';

						if (ratio.tabh / ratio.tabbodyh < 1) ratio.tabbodyw += 12;

						el.scrollbarbottom.style.width = Math.floor(ratio.tabw * ratio.tabw / ratio.tabbodyw) + 'px';
						el.scrollbarright.style.height = Math.floor(ratio.tabh * ratio.tabh / ratio.tabbodyh) + 'px';
					})();

					// 拖动滚动条
					(function(){
						let tag = {
							pos: {el_x: 0, el_y: 0},
							down(ev) {
								tag.pos.start_x = ev.pageX;
								tag.pos.start_y = ev.pageY;
								tag.pos.elem = ev.target.parentNode.className.indexOf('bottom') != -1;
								tag.pos.el_x = el.scrollbarbottom.offsetLeft;
								tag.pos.el_y = el.scrollbarright.offsetTop;
								tag.pos.flog = true;
							},
							move(ev) {
								if (!tag.pos.flog) return;

								tag.pos.move_x = ev.pageX - tag.pos.start_x + (!tag.pos.el_x ? 0 : tag.pos.el_x);
								tag.pos.move_y = ev.pageY - tag.pos.start_y + (!tag.pos.el_y ? 0 : tag.pos.el_y);
								

								if (tag.pos.move_x <= 0) tag.pos.move_x = 0; 
								if (tag.pos.move_x >= ratio.tabw - el.scrollbarbottom.offsetWidth) tag.pos.move_x = ratio.tabw - el.scrollbarbottom.offsetWidth;
								if (tag.pos.move_y <= 0) tag.pos.move_y = 0; 
								if (tag.pos.move_y >= ratio.tabh - el.scrollbarright.offsetHeight) tag.pos.move_y = ratio.tabh - el.scrollbarright.offsetHeight;

								if (tag.pos.elem) {
									el.scrollbarbottom.style.left = tag.pos.move_x + 'px';
									el.tab.scrollLeft = tag.pos.move_x * ratio.ratiox;
									el.tabhead.scrollLeft = tag.pos.move_x * ratio.ratiox;
									// el.tab.scrollLeft = tag.pos.move_x + 'px';
								} else {
									el.scrollbarright.style.top = tag.pos.move_y + 'px';
									el.tab.scrollTop = tag.pos.move_y * ratio.ratioy;
								}
							},
							up(ev) {
								tag.pos.flog = false;
								tag.pos.el_x = tag.pos.move_x;
								tag.pos.el_y = tag.pos.move_y;
							},
						} 
						el.scrollbarbottom.addEventListener('mousedown', tag.down, false);
						el.scrollbarright.addEventListener('mousedown', tag.down, false);
						document.addEventListener('mousemove', tag.move, false);
						document.addEventListener('mouseup', tag.up, false);
					})();


					// 滚轮
					(function(){
						let my;
						const wheel = function(e){
							let delta = (e.wheelDelta && (e.wheelDelta > 0 ? 1 : -1)) ||  // chrome & ie
							            (e.detail && (e.detail > 0 ? -1 : 1));              // firefox
							if (delta > 0) {
							    my = el.scrollbarright.offsetTop - obj.step;
							    if (my <= 0) my = 0; 
							} else if (delta < 0) {
							    my = el.scrollbarright.offsetTop + obj.step;
							    if (my >= ratio.tabh - el.scrollbarright.offsetHeight) my = ratio.tabh - el.scrollbarright.offsetHeight;
							}
							el.scrollbarright.style.top = my + 'px';
						    el.tab.scrollTop = my * ratio.ratioy;
						}

						el.tab.onmousewheel   = wheel;
						el.tab.DOMMouseScroll = wheel;
					})();
				})({
					el_table: '.table-data-list',
					el_thead: '.page-table-head',
					el_tbody: '.page-table-body',
					el_bar_bottom: '.page-scrollbar-bottom',     //底部滚动条元素
					el_bar_right: '.page-scrollbar-right',       //右边滚动条元素
					el_bar: '.pointer',   //拖动元素
					step: 15,		      //滚动鼠标大小
					tbodyheight: 600,     //tbodu  高度
					tablewidth: 800,      //outer  宽度
				});
			},
			watch: {
				curr() {
				}
			}
		})
	</script>
</body>
</html>