<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<title>table</title>
	<style>
		*{margin: 0;padding: 0;}
		body{padding: 60px;}
		table{border-collapse: collapse; width: 100%;}
		td,th{border: 1px solid #ccc; padding: 8px; text-align: center;}
		th{background: #eee;}

		.tableData,
		.ttt {height: 300px; overflow-y: auto; margin-bottom: 20px }
	</style>
</head>
<body>
	<div class="tableData">
		<table>
			<thead>
				<tr>
					<th>Name</th>
					<th>NickName</th>
					<th>YearOld</th>
					<th>Height</th>
					<th>Weight</th>
				</tr>
			</thead>
			<tbody>
				<!-- Add Data -->
			</tbody>
		</table>
	</div>
	<script src="json__LazyData/jquery-1.11.3.min.js"></script>
	<script>
	var TableFix = function (TableDivClass) {
	    var TabId = $(TableDivClass);
	    var borderColor = TabId.find('td').css('border-color');
	    if (TabId.find('table').height() > TabId.height()) {
	        TabId.find('table').css('margin-bottom', '-1px');
	        TabId.find('td').css('border-bottom-width', 0);

	        //生成标题栏的宽高
	        var html = TabId.html();
	        TableDivClass = TableDivClass.replace(/[\.\#]/g, '');
	        console.log(TableDivClass);
	        TabId.before('<div class=\"' + TableDivClass + '-Title\">' + html + '</div>');
	        var tableHeader = $('.' + TableDivClass + '-Title');
	        var resize = function (){
	        	TabId.css({
	        	    'border-bottom': '1px solid ' + borderColor,
	        	    'margin-top': -TabId.find('thead').height() - 1
	        	});
		        tableHeader.css({
		            'width': TabId.width(),
		            'height': TabId.find('thead').height() + 1,
		            'overflow': 'hidden',
		            'position': 'relative',
		            "margin-left": TabId.css("margin-left"),
		            'z-index': '10'
		        });
		        if (TabId.find('table').width() != tableHeader.find('table').width()){
	            	tableHeader.find('table').width(TabId.find('table').width());
	        	}
	        };
	        $(window).on('resize', resize);
	        resize();
	    };
	};

	//假数据

	(function () {
		var html = '';
		var arr = [
			{'Name': 'yuan', 'NickName': 'william', 'YearOld': '21岁', 'Height': '197cm', 'Weight': '80kg'},
			{'Name': 'yuan', 'NickName': 'william', 'YearOld': '21岁', 'Height': '197cm', 'Weight': '82kg'},
			{'Name': 'yuan', 'NickName': 'william', 'YearOld': '21岁', 'Height': '197cm', 'Weight': '50kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '22岁', 'Height': '197cm', 'Weight': '52kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '22岁', 'Height': '155cm', 'Weight': '52kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '22岁', 'Height': '155cm', 'Weight': '52kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '22岁', 'Height': '155cm', 'Weight': '72kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '22岁', 'Height': '155cm', 'Weight': '72kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '21岁', 'Height': '155cm', 'Weight': '72kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '41岁', 'Height': '155cm', 'Weight': '71kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '41岁', 'Height': '155cm', 'Weight': '71kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '41岁', 'Height': '155cm', 'Weight': '71kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '41岁', 'Height': '155cm', 'Weight': '71kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '41岁', 'Height': '155cm', 'Weight': '71kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '48岁', 'Height': '155cm', 'Weight': '71kg'},
			{'Name': 'yan' , 'NickName': 'wim'    , 'YearOld': '48岁', 'Height': '155cm', 'Weight': '81kg'},
			{'Name': 'aga' , 'NickName': 'wim'    , 'YearOld': '48岁', 'Height': '155cm', 'Weight': '81kg'},
			{'Name': 'n'   , 'NickName': 'wim'    , 'YearOld': '48岁', 'Height': '153cm', 'Weight': '81kg'},
			{'Name': 'n'   , 'NickName': 'wim'    , 'YearOld': '28岁', 'Height': '153cm', 'Weight': '82kg'},
			{'Name': 'n'   , 'NickName': 'wim'    , 'YearOld': '28岁', 'Height': '153cm', 'Weight': '82kg'},
			{'Name': 'n'   , 'NickName': 'wim'    , 'YearOld': '28岁', 'Height': '193cm', 'Weight': '82kg'},
			{'Name': 'n'   , 'NickName': 'wim'    , 'YearOld': '28岁', 'Height': '193cm', 'Weight': '72kg'},
			{'Name': 'n'   , 'NickName': 'wim'    , 'YearOld': '28岁', 'Height': '193cm', 'Weight': '72kg'},
			{'Name': 'n'   , 'NickName': 'wim'    , 'YearOld': '33岁', 'Height': '193cm', 'Weight': '72kg'},
			{'Name': 'ysdn', 'NickName': 'wim'    , 'YearOld': '33岁', 'Height': '193cm', 'Weight': '62kg'},
			{'Name': 'ysdn', 'NickName': 'wim'    , 'YearOld': '33岁', 'Height': '193cm', 'Weight': '62kg'},
			{'Name': 'ysdn', 'NickName': 'wim'    , 'YearOld': '33岁', 'Height': '193cm', 'Weight': '62kg'},
			{'Name': 'ysdn', 'NickName': 'wim'    , 'YearOld': '33岁', 'Height': '193cm', 'Weight': '62kg'},
			{'Name': 'ysdn', 'NickName': 'wim'    , 'YearOld': '33岁', 'Height': '193cm', 'Weight': '60kg'},
			{'Name': 'ysdn', 'NickName': 'william', 'YearOld': '34岁', 'Height': '177cm', 'Weight': '60kg'},
			{'Name': 'yuan', 'NickName': 'william', 'YearOld': '34岁', 'Height': '177cm', 'Weight': '60kg'},
			{'Name': 'yot' , 'NickName': 'william', 'YearOld': '24岁', 'Height': '177cm', 'Weight': '60kg'},
			{'Name': 'yot' , 'NickName': 'william', 'YearOld': '24岁', 'Height': '177cm', 'Weight': '56kg'},
			{'Name': 'yot' , 'NickName': 'william', 'YearOld': '64岁', 'Height': '177cm', 'Weight': '58kg'},
			{'Name': 'yot' , 'NickName': 'william', 'YearOld': '24岁', 'Height': '177cm', 'Weight': '56kg'},
			{'Name': 'yot' , 'NickName': 'william', 'YearOld': '24岁', 'Height': '197cm', 'Weight': '80kg'},
		]
	    for (var i=0; i<arr.length; i++) {
	    	html += '<tr>';
	    	for (var x in arr[i]){
		    	html += '<td>'+ arr[i][x] +'</td>'
	    	}
	    }
	    $('.tableData').find('tbody').append(html);
	    TableFix('.tableData');
	})();
		
	</script>
</body>
</html>
