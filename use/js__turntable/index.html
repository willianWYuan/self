<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>

<link rel="stylesheet" href="css/demo.css" type="text/css" />
<link rel="stylesheet" type="text/css" href="css/sweet-alert.css">


<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/awardRotate.js"></script>



<script type="text/javascript">

$(function (){

	var rotateTimeOut = function (){
		$('#rotate').rotate({
			angle:0,
			animateTo:2160,
			duration:8000,
			callback:function (){
				alert('网络超时，请检查您的网络设置！');
			}
		});
	};
	var bRotate = false;

	var rotateFn = function (awards, angles, txt){
		bRotate = !bRotate;
		$('#rotate').stopRotate();
		$('#rotate').rotate({
			angle:0,
			animateTo:angles+1800,
			duration:8000,
			callback:function (){
				/*alert(txt);*/
				swal({   title: "获得"+txt,   imageUrl: "images/gx.png" });
				
				bRotate = !bRotate;
			}
		})
	};

	$('.pointer').click(function (){

		if(bRotate)return;
		var item = rnd(1,8);

		switch (item) {
			case 1:
				//var angle = [26, 88, 137, 185, 235, 287, 337];
				rotateFn(1, 35, 'ipad Air');
				break;
			case 2:
				//var angle = [88, 137, 185, 235, 287];
				rotateFn(2, 80, 'Beats耳机');
				break;
			case 3:
				//var angle = [137, 185, 235, 287];
				rotateFn(3, 120, '小米手环');
				break;
			case 4:
				//var angle = [137, 185, 235, 287];
				rotateFn(4, 170, 'iPhone6');
				break;
			case 5:
				//var angle = [185, 235, 287];
				rotateFn(5, 210, '谢谢惠顾');
				break;
			case 6:
				//var angle = [185, 235, 287];
				rotateFn(6, 250, 'Beats耳机');
				break;
			case 7:
				//var angle = [185, 235, 287];
				rotateFn(7, 300, '大疆无人机');
				break;
			case 8:
				//var angle = [185, 235, 287];
				rotateFn(8, 350, '谢谢惠顾');
				break;
			
		}
		
		console.log(item);
	});
});
function rnd(n, m){
	return Math.floor(Math.random()*(m-n+1)+n)
	// return 2
}
</script>

</head>
<body>
        <div class="turntable-bg">
            <!--<div class="mask"><img src="images/award_01.png"/></div>-->
            <div class="pointer"><img src="images/zhizhen.png" alt="pointer"/></div>
            <div class="rotate" ><img id="rotate" src="images/dipan.png" alt="turntable"/ ></div>
        </div>
</body>
</html>